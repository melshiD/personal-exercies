<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3d Screen Effect</title>
    <style>
        body {
            display: flex;
            flex-flow: column wrap;
            /* perspective: 36rem;
            transform-style: preserve-3d; */

        }

        .slider-card {
            padding: 0.7rem;
            border: rgba(0, 0, 0, 0.25) solid 0.1rem;
            border-radius: 1em;
            width: auto;
            margin: 1.2rem;
            height: 5rem;
        }

        .testDivContainer {
            /* position: fixed; */

            /* top: 20vh; */
            width: fit-content;
            margin: 1em auto;
            background: url('./assets/word.PNG');
            background-size: cover;
            background-position: 0% 0%;
            padding: 1rem;
            border: solid 0.5px black;
            border-radius: 14px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
            z-index: 30;
            /* perspective: 4rem; */
            animation: scrolling-bits 12s infinite alternate-reverse;
            /* --------------  */
            transform: rotate3d(0.14, 1, -0.06, -18deg) rotateZ(-1deg);
        }

        @keyframes scrolling-bits {
            from {
                background-position: 0% 0%;
            }

            to {
                background-position: 0% 100%;
            }
        }

        .testDiv {
            width: 300px;
            height: 200px;
            background-color: none;
            border: darkgoldenrod double 4px;
            border-radius: 1em;
        }

        p {
            text-align: center;
        }

        .two-containers {
            transform-style: preserve-3d;
            display: flex;
            flex-flow: row wrap;
        }

        .words-and-board {
            perspective: 46rem;
            transform-style: preserve-3d;
        }
    </style>
</head>

<body>
    <div class="slider-card" id="sliders">
        <label for="Amount" name="amount">Amount</label>
        <input type="range" class="fancy" id="amount" step="0.01" min="-180" max="180" value="0">

        <label for="x" name="amount">x axis cord</label>
        <input type="range" class="fancy" id="x" min="-1" max="1" step="0.01" value="0">

        <label for="y" name="amount">y axis cord</label>
        <input type="range" class="fancy" id="y" min="-1" max="1" step="0.01" value="0">

        <label for="z" name="amount">z axis cord</label>
        <input type="range" class="fancy" id="z" min="-1" max="1" step="0.01" value="0">

        <label for="rotateZ" name="amount">rotateZ</label>
        <input type="range" class="fancy" id="rotateZ" min="-180" max="180" value="0">

        <label for="translateZ" name="amount">translateZ</label>
        <input type="range" class="fancy" id="translateZ" min="-180rem" max="180rem" value="40">
    </div>
    <div class="words-and-board">

        <div class="two-containers">
            <div class="testDivContainer" id="floating_display">
                <div class="testDiv"></div>
            </div>

        </div>
    </div>
    <script>

        const rotateAxisVals = {
            x: '0.14',
            y: '1',
            z: '-0.06',
            amount: '-18',
            rotateZ: '-1',
            translateZ: '40'
        };

        const updateRotateValues = (x, y, z, amount, rotateZ, translateZ) => {
            rotateAxisVals.x = x;
            rotateAxisVals.y = y;
            rotateAxisVals.z = z;
            rotateAxisVals.amount = amount;
            rotateAxisVals.rotateZ = rotateZ;
            rotateAxisVals.translateZ = translateZ;
            console.log(rotateAxisVals);
        };

        let floating_display = document.getElementById('floating_display');
        let amountSlider = document.getElementById('amount');
        amountSlider.addEventListener('input', () => {
            let { x, y, z, rotateZ } = rotateAxisVals;
            console.log('amount: ' + amountSlider.value);
            floating_display.style.transform = `rotate3d(${x}, ${y}, ${z}, ${amountSlider.value}deg) rotateZ(-1deg)`;
            return updateRotateValues(x, y, z, amountSlider.value, rotateZ);
        });

        //WHEN YOU SIT BACK DOWN FIND A DRY WAY TO HANDLE ADDING STATE TO THIS OBJECT WITH SLIDERS!!

        let xSlider = document.getElementById('x');
        xSlider.addEventListener('input', () => {
            let { y, z, amount, rotateZ } = rotateAxisVals;
            console.log('x: ' + xSlider.value);
            floating_display.style.transform = `rotate3d(${xSlider.value}, ${y}, ${z}, ${amount}deg) rotateZ(-1deg)`;
            return updateRotateValues(xSlider.value, y, z, amount, rotateZ);
        });

        let ySlider = document.getElementById('y');
        ySlider.addEventListener('input', () => {
            let { x, z, amount, rotateZ } = rotateAxisVals;
            console.log('y: ' + ySlider.value);
            floating_display.style.transform = `rotate3d(${x}, ${ySlider.value}, ${z}, ${amount}deg) rotateZ(-1deg)`;
            return updateRotateValues(x, ySlider.value, z, amount, rotateZ);
        });

        let zSlider = document.getElementById('z');
        zSlider.addEventListener('input', () => {
            let { x, y, amount, rotateZ } = rotateAxisVals;
            console.log('z: ' + zSlider.value);
            floating_display.style.transform = `rotate3d(${x}, ${y}, ${zSlider.value}, ${amount}deg) rotateZ(-1deg)`;
            return updateRotateValues(x, y, zSlider.value, amount, rotateZ);
        });

        let rotateZ = document.getElementById('rotateZ');
        rotateZ.addEventListener('input', () => {
            let { x, y, z, amount } = rotateAxisVals;
            console.log('rotateZ: ' + rotateZ.value);
            floating_display.style.transform = `rotate3d(${x}, ${y}, ${z}, ${amount}deg) rotateZ(${rotateZ.value}deg)`;
            return updateRotateValues(x, y, zSlider.value, amount, rotateZ.value);
        });

        let translateZ = document.getElementById('translateZ');
        translateZ.addEventListener('input', () => {
            let { x, y, z, amount } = rotateAxisVals;
            console.log('rotateZ: ' + rotateZ.value);
            floating_display.style.transform = `rotate3d(${x}, ${y}, ${z}, ${amount}deg) rotateZ(${rotateZ.value}deg)`;
            return updateRotateValues(x, y, zSlider.value, amount, rotateZ.value);
        });


    </script>
</body>

</html>