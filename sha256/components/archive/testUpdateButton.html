<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Update Button</title>
    <style>
        .table {
            width: 400px;
            height: 400px;
            border: solid black 4px;
            display: flex;
            flex-flow: column;
            justify-content: space-around;
            align-items: center;
        }

        /* .rotationNameAndNumber {
            padding: 4px;
            border: solid black 2px;
            border-radius: 4px;
        } */
        .rotAndBitEntry{
            padding: 4px;
            border: solid black 2px;
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <div class="table">
        <div class="rotAndBitEntry">
            <div class="rotationNameAndNumber">
                <span class="name">ROTR</span><span class="number">13</span>
            </div>
            <div class="inputBits">
                <span>10110100101001101010100101010110</span>
            </div>
        </div>
        <div class="rotAndBitEntry">
            <div class="rotationNameAndNumber">
                <span class="name">ROTR</span><span class="number">13</span>
            </div>
            <div class="inputBits">
                <span>10110100101001101010100101010110</span>
            </div>
        </div>
        <div class="rotAndBitEntry">
            <div class="rotationNameAndNumber">
                <span class="name">SHR</span><span class="number">23</span>
            </div>
            <div class="inputBits">
                <span>10110100101001101010100101010110</span>
            </div>
        </div>
    </div>
    <script>
        const rotationNamesAndNumElements = document.querySelectorAll('.rotationNameAndNumber');
        // console.log(rotationNamesAndNumElements);
        let rotationSpecs = [];
        rotationNamesAndNumElements.forEach( (rotationElemAndAmountElem)=> {
            let spec = {};
            spec.rotation = rotationElemAndAmountElem.children[0].innerHTML;
            spec.amount = rotationElemAndAmountElem.children[1].innerHTML;
            rotationSpecs.push(spec);
        });

        let inputBits = '11111100101001101010100101000000';

        const generateRotationSchedule = (inputBits, rotationSpecs) => {
            //build three arrays of strings.  Each array's length depends on how many movements the bits make
            let firstDigest = [];
            for(let spec of rotationSpecs){
                if(spec.rotation === 'ROTR'){
                    let digest = rotateAndReturnReceipt(inputBits, spec.amount);
                    firstDigest.push(digest);
                }
                if(spec.rotation === 'SHR'){
                    // shiftOne(inputBits);
                }
            }
            console.log(firstDigest);
        }
        function rotateAndReturnReceipt(inputBits, amount){
            let rotationDigest = [];
            while(amount > 0){
                let rotated = `${inputBits.slice(-1)}${(inputBits.slice(0, 31))}`;
                inputBits = rotated;
                console.log('im the' + inputBits);
                rotationDigest.push(inputBits);
                console.log(rotationDigest);
                amount --;
            }
            return rotationDigest;
        }
        generateRotationSchedule('10110100101001101010100101010110', rotationSpecs);
    </script>
</body>

</html>